-- Creating the GUI elements
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Parent = game.Players.LocalPlayer.PlayerGui

local Frame = Instance.new("Frame")
Frame.Size = UDim2.new(0.2, 0, 0.4, 0)
Frame.Position = UDim2.new(0.8, 0, 0.2, 0)
Frame.BackgroundColor3 = Color3.new(0, 0, 0)
Frame.BorderSizePixel = 5
Frame.Parent = ScreenGui

local function createButton(name, text, func)
    local button = Instance.new("TextButton")
    button.Name = name
    button.Size = UDim2.new(0.8, 0, 0.1, 0)
    button.Position = UDim2.new(0.1, 0, 0.1 * #Frame:GetChildren(), 0)
    button.BackgroundColor3 = Color3.new(0.5, 0.5, 0.5)
    button.Text = text
    button.Parent = Frame
    button.MouseButton1Click:Connect(func)
end

createButton("FlyButton", "Fly", function()
    if not game.Players.LocalPlayer.Character:FindFirstChild("Humanoid") then
        return  -- Player is dead or not spawned
    end
    game.Players.LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.Physics)
    game.Players.LocalPlayer.Character.Humanoid.PlatformStand = true -- Prevents the player from falling
end)

createButton("UnflyButton", "Unfly", function()
    if not game.Players.LocalPlayer.Character:FindFirstChild("Humanoid") then
        return
    end
    game.Players.LocalPlayer.Character.Humanoid.PlatformStand = false -- Allow the player to fall
    game.Players.LocalPlayer.Character.Humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
end)

createButton("ChangeSpeedButton", "Change Speed", function()
    local speedInput = tonumber(Frame:FindFirstChild("SpeedInput").Text)
    if speedInput then
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = speedInput
    end
end)

createButton("SeePlayerButton", "See Player", function()
    local playerName = Frame:FindFirstChild("PlayerNameInput").Text
    local player = game.Players:FindFirstChild(playerName)
    if player then
        -- Display the player on the screen
        print("Player found:", player.Name)
    end
end)

createButton("BackToScreenButton", "Back to My Screen", function()
    -- Code to return to the player's own screen
end)

-- Adding input fields for speed and player name
local speedInput = Instance.new("TextBox")
speedInput.Name = "SpeedInput"
speedInput.PlaceholderText = "Enter speed..."
speedInput.Size = UDim2.new(0.8, 0, 0.05, 0)
speedInput.Position = UDim2.new(0.1, 0, 0.05 * #Frame:GetChildren(), 0)
speedInput.Parent = Frame

local playerNameInput = Instance.new("TextBox")
playerNameInput.Name = "PlayerNameInput"
playerNameInput.PlaceholderText = "Enter player name..."
playerNameInput.Size = UDim2.new(0.8, 0, 0.05, 0)
playerNameInput.Position = UDim2.new(0.1, 0, 0.05 * #Frame:GetChildren() + 0.1, 0) -- Pause by adding a bit of height
playerNameInput.Parent = Frame
